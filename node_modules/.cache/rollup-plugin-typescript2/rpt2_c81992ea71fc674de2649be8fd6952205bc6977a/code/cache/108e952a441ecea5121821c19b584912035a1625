{"code":"export const createHistoryEvent = (type) => {\r\n    // history无法通过popstate监听pushState和replaceState 这里是重写函数\r\n    //获取原始函数\r\n    const origin = history[type];\r\n    //this不会传进来 只是假参数\r\n    return function () {\r\n        const res = origin.apply(this, arguments);\r\n        // 发布订阅模式\r\n        // Event创建自定义事件\r\n        // dispatchEvent派发事件\r\n        // addEventListener监听事件\r\n        const e = new Event(type);\r\n        window.dispatchEvent(e);\r\n        return res;\r\n    };\r\n};\r\n","references":[]}
